{"version":3,"sources":["customer.min.js"],"names":["updateViewHeight","outputText","document","getElementById","scrollHeight","scrollTop","offsetHeight","isUpdate","timer","clearTimeout","setTimeout","fake_click","obj","ev","createEvent","initMouseEvent","window","dispatchEvent","export_raw","name","data","urlObject","URL","webkitURL","export_blob","Blob","save_link","createElementNS","href","createObjectURL","download","toText","value","toHTML","generateHTML","innerHTML","source","html"],"mappings":"AAAA,YAIA,SAASA,oBACR,GAAIC,GAAaC,SAASC,eAAe,cACrCC,EAAeH,EAAWG,aAC1BC,EAAYJ,EAAWI,UACvBC,EAAeL,EAAWK,aAG1BC,EAAWF,EAAYC,EAAe,GAAKF,EAAeE,CAG3DC,KACCC,OACFC,aAAaD,OAEdA,MAAQE,WAAW,WAClBT,EAAWI,UAAYJ,EAAWG,cACjC,MAIJ,QAASO,YAAWC,GAChB,GAAIC,GAAKX,SAASY,YAAY,cAC9BD,GAAGE,eACC,SAAS,GAAM,EAAOC,OAAQ,EAAG,EAAG,EAAG,EAAG,GACxC,GAAO,GAAO,GAAO,EAAO,EAAG,MAErCJ,EAAIK,cAAcJ,GAGtB,QAASK,YAAWC,EAAMC,GACtB,GAAIC,GAAYL,OAAOM,KAAON,OAAOO,WAAaP,OAE9CQ,EAAc,GAAIC,OAAML,IAExBM,EAAYxB,SAASyB,gBAAgB,+BAAgC,IACzED,GAAUE,KAAOP,EAAUQ,gBAAgBL,GAC3CE,EAAUI,SAAWX,EACrBR,WAAWe,GAGf,QAASK,UACRb,WAAW,eAAgBhB,SAASC,eAAe,aAAa6B,OAGjE,QAASC,UACRf,WAAW,gBAAgBgB,aAAahC,SAASC,eAAe,cAAcgC,YAG/E,QAASD,cAAaE,GACrB,GAAIC,GAAO,kGAOND,EACA,gBAGL,OAAOC,GA9DR,GAAI7B","file":"customer.min.js","sourcesContent":["'use strict';\r\n\r\nvar timer;\r\n\r\nfunction updateViewHeight() {\r\n\tvar outputText = document.getElementById('outputText');\r\n\tvar scrollHeight = outputText.scrollHeight;\r\n\tvar scrollTop = outputText.scrollTop;\r\n\tvar offsetHeight = outputText.offsetHeight;\r\n\r\n\t// if customer move the window more than 1/10 offsetHeight , the auto update view will disabled .\r\n\tvar isUpdate = scrollTop + offsetHeight / 10 > scrollHeight - offsetHeight ;\r\n\r\n\t// set time to delay the window move .\r\n\tif(isUpdate) {\r\n\t\tif(timer) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\t\ttimer = setTimeout(function () {\r\n\t\t\toutputText.scrollTop = outputText.scrollHeight;\r\n\t\t},350);\r\n\t}\r\n}\r\n\r\nfunction fake_click(obj) {\r\n    var ev = document.createEvent(\"MouseEvents\");\r\n    ev.initMouseEvent(\r\n        \"click\", true, false, window, 0, 0, 0, 0, 0\r\n        , false, false, false, false, 0, null\r\n        );\r\n    obj.dispatchEvent(ev);\r\n}\r\n\r\nfunction export_raw(name, data) {\r\n    var urlObject = window.URL || window.webkitURL || window;\r\n\r\n    var export_blob = new Blob([data]);\r\n\r\n    var save_link = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\");\r\n    save_link.href = urlObject.createObjectURL(export_blob);\r\n    save_link.download = name;\r\n    fake_click(save_link);\r\n}\r\n\r\nfunction toText() {\r\n\texport_raw('download.txt', document.getElementById('inputText').value);\r\n}\r\n\r\nfunction toHTML() {\r\n\texport_raw('download.html',generateHTML(document.getElementById('outputText').innerHTML));\r\n}\r\n\r\nfunction generateHTML(source) {\r\n\tvar html = '<!DOCTYPE html>' +\r\n\t\t\t   '<html>' +\r\n\t\t\t   '<head lang=\"en\">' +\r\n\t\t\t   '<meta charset=\"UTF-8\">' + \r\n\t\t\t   '<title>markdowm</title>' +\r\n\t\t\t   '</head>' +\r\n\t\t\t   '<body>' +\r\n\t\t\t   source + \r\n\t\t\t   '</body>' +\r\n\t\t\t   '</html>'\r\n\t;\r\n\treturn html;\r\n}"],"sourceRoot":"/source/"}